"use strict";(self["webpackChunkhex_vue_ec_website"]=self["webpackChunkhex_vue_ec_website"]||[]).push([[87],{5531:function(t,e,i){i.d(e,{Z:function(){return p}});var s=i(3396),r=i(7139);const c={class:"header text-white text-center d-flex justify-content-center align-items-center"},o={class:"h1 px-5 py-3 my-0 text-white border border-white border-3 bg-secondary bg-opacity-25"};function a(t,e,i,a,d,n){return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("p",o,(0,r.zw)(i.title),1)])}var d={props:["title"]},n=i(89);const u=(0,n.Z)(d,[["render",a]]);var p=u},5517:function(t,e,i){i.d(e,{Z:function(){return l}});var s=i(3396),r=i(355);const c={key:0,class:"loader",id:"loader"},o=(0,s._)("img",{src:r,alt:"loading..."},null,-1),a=[o];function d(t,e,i,r,o,d){return t.isReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c,a))}var n={props:["is-ready"]},u=i(89);const p=(0,u.Z)(n,[["render",d]]);var l=p},4087:function(t,e,i){i.r(e),i.d(e,{default:function(){return q}});var s=i(3396),r=i(7139),c=i(9242);const o={class:"container"},a={class:"row py-5"},d={class:"col-md-7 col-lg-6"},n={class:"col-md-5 col-lg-6"},u={key:0,class:"text-white bg-success rounded-3 py-1 px-2"},p={class:"text-primary my-3"},l={class:"price mb-3"},h={key:0,class:"text-dark h5"},m={class:"text-primary h4"},y={class:"input-group"},g=["value"],v=(0,s._)("hr",{class:"bg-primary"},null,-1),_={class:"h5 my-2 text-white bg-primary p-2"},b={class:"h6 my-2 text-dark bg-secondary p-2"};function w(t,e,i,w,f,x){const k=(0,s.up)("HeaderPic"),z=(0,s.up)("Loading"),j=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(k,{title:f.title},null,8,["title"]),(0,s.Wm)(z,{"is-ready":f.isReady},null,8,["is-ready"]),(0,s._)("div",o,[(0,s._)("div",a,[(0,s._)("div",d,[(0,s._)("div",{style:(0,r.j5)([{backgroundImage:`url(${f.product.imageUrl})`},{height:"25rem","background-size":"cover","background-position":"center center"}]),class:"mb-3"},null,4)]),(0,s._)("div",n,[f.product.origin_price!==f.product.price?((0,s.wg)(),(0,s.iD)("span",u,"特價中")):(0,s.kq)("",!0),(0,s._)("h3",p,(0,r.zw)(f.product.title),1),(0,s._)("div",l,[f.product.price!==f.product.origin_price?((0,s.wg)(),(0,s.iD)("del",h,(0,r.zw)(t.$filters.currency(f.product.origin_price)),1)):(0,s.kq)("",!0),(0,s._)("p",m,(0,r.zw)(t.$filters.currency(f.product.price)),1),(0,s._)("div",y,[(0,s.wy)((0,s._)("select",{id:"itemNum",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>f.qty=t),min:"1"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("option",{value:t,key:`${t}`},(0,r.zw)(t),9,g))),64))],512),[[c.bM,f.qty]]),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=t=>x.addToCart(f.product.id,f.qty))}," 加入購物車 ")]),v,(0,s._)("p",_,(0,r.zw)(f.product.description),1),(0,s._)("p",b,(0,r.zw)(f.product.content),1)])])])]),(0,s.Wm)(j)],64)}var f=i(5531),x=i(5517),k={data(){return{title:"商品細節",product:{},productId:"",qty:1,isReady:!0}},components:{HeaderPic:f.Z,Loading:x.Z},inject:["emitter"],methods:{getProduct(){this.isReady=!1;const t=`https://vue3-course-api.hexschool.io/v2/api/hyxfish27/product/${this.productId}`;this.$http.get(t).then((t=>{this.product=t.data.product,this.isReady=!0})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:t.response.data.message,emoji:"emoji-dizzy"})}))},addToCart(t,e=1){this.isReady=!1;const i="https://vue3-course-api.hexschool.io/v2/api/hyxfish27/cart";this.isLoading=t;const s={product_id:t,qty:e};this.$http.post(i,{data:s}).then((t=>{this.emitter.emit("push-message",{style:"success",title:t.data.message,emoji:"emoji-heart-eyes"}),this.isLoading="",this.isReady=!0})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:t.response.data.message,emoji:"emoji-dizzy"}),this.isReady=!0}))}},mounted(){this.productId=this.$route.params.id,this.getProduct()}},z=i(89);const j=(0,z.Z)(k,[["render",w]]);var q=j},355:function(t,e,i){t.exports=i.p+"img/loader.bf1579b8.svg"}}]);
//# sourceMappingURL=87.1c96a969.js.map